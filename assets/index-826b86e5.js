(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const m=JSON.parse(localStorage.getItem("notes")||"[]"),k=document.querySelector(".editordate");document.querySelector(".delete");console.log(k);const o=document.getElementById("title"),l=document.getElementById("desc");o.addEventListener("input",t=>{o.style.height="6rem";let e=o.scrollHeight;o.style.height=`${e}px`});l.addEventListener("input",t=>{l.style.height="60%";let e=l.scrollHeight;l.style.height=`${e}px`});const z=document.querySelector(".addbtn"),E=document.querySelector(".back"),a=document.querySelector(".editor"),d=document.querySelector(".home");document.querySelectorAll(".grid-item");const q=document.querySelector(".helper");let S="bg-red-300",c="text-red-300";z.addEventListener("click",()=>{o.style.height="6rem",l.style.height="60%",o.value="",l.value="",S="bg-red-300",c="text-red-300",o.classList.add(c),l.classList.add(c),f.forEach(t=>{t.classList.remove("active")}),f[0].classList.add("active"),w.innerHTML="save",a.classList.toggle("show"),a.setAttribute("style","height: auto; overflow: auto;"),d.classList.toggle("hide")});E.addEventListener("click",()=>{p=!1;const t=document.querySelector(".editordate"),e=document.querySelector(".delete");setTimeout(()=>{o.className="w-full h-24 text-4xl font-medium pt-6 bg-[#292929] resize-none outline-none"},450),setTimeout(()=>{l.className="w-full h-[60%] text-lg pt-3 bg-[#292929] resize-none outline-none overflow-hidden"},450),t&&setTimeout(()=>{t.remove()},500),e&&setTimeout(()=>{e.remove()},500),a.classList.toggle("show"),a.setAttribute("style","height: 100vh; overflow: hidden;"),d.classList.add("pointer-events-none"),a.addEventListener("transitionend",()=>{d.classList.remove("pointer-events-none")}),d.classList.toggle("hide")});let p=!1,T;window.updatenote=function(t,e,r,n,s,i){let u=r.replaceAll("<br/>",`\r
`).replaceAll("&apos","'").replaceAll("&quot",'"'),v=e.replaceAll("<br/>",`\r
`).replaceAll("&apos","'").replaceAll("&quot",'"');p=!0,T=t,o.value=v,l.value=u,w.innerHTML="edit",o.style.height="6rem",l.style.height="60%",y.value="",M(),o.classList.remove(c),l.classList.remove(c),o.classList.add(s),l.classList.add(s);let L=o.scrollHeight;o.style.height=`${L}px`;let b=l.scrollHeight;l.style.height=`${b}px`;let g=`<button class="delete bg-[#3d3d3d] px-4 py-[11.5px] rounded-xl " onclick="deletenote(${t})"><i class="fa-solid fa-trash text-red-500"></i></button>`;E.insertAdjacentHTML("afterend",g);let O=`<div class="editordate text-neutral-500 text-sm ">${i}</div>`;o.insertAdjacentHTML("afterend",O),a.classList.toggle("show"),a.setAttribute("style","height: auto; overflow: auto;"),d.classList.toggle("hide"),f.forEach(x=>{x.classList.remove("active"),x.getAttribute("data-color")===n&&x.classList.add("active")})};window.deletenote=function(t){m.splice(t,1),localStorage.setItem("notes",JSON.stringify(m));const e=document.querySelector(".editordate"),r=document.querySelector(".delete");e&&setTimeout(()=>{e.remove()},500),r&&setTimeout(()=>{r.remove()},500),a.classList.toggle("show"),d.classList.toggle("hide"),d.classList.add("pointer-events-none"),a.addEventListener("transitionend",()=>{d.classList.remove("pointer-events-none")}),setTimeout(()=>{o.className="w-full h-24 text-4xl font-medium pt-6 bg-[#292929] resize-none outline-none"},450),setTimeout(()=>{l.className="w-full h-[60%] text-lg pt-3 bg-[#292929] resize-none outline-none overflow-hidden"},450),A()};const w=document.querySelector(".save"),f=document.querySelectorAll(".color"),I=["January","February","March","April","May","June","July","August","September","October","November","December"];f.forEach(t=>{t.addEventListener("click",()=>{S=t.getAttribute("data-color"),o.classList.remove(c),l.classList.remove(c),c=t.getAttribute("data-text"),o.classList.add(c),l.classList.add(c),f.forEach(e=>{e.classList.remove("active")}),t.classList.add("active")})});w.addEventListener("click",()=>{const t=document.querySelector(".editordate"),e=document.querySelector(".delete");t&&setTimeout(()=>{t.remove()},500),e&&setTimeout(()=>{e.remove()},500);let r=o.value,n=l.value,s=S,i=c;if(r||n){const u=new Date,v=I[u.getMonth()],L=u.getDate(),b=u.getFullYear(),g={title:r,desc:n,color:s,txtcolor:i,date:`${v} ${L}, ${b}`};console.log(g),p?(p=!1,m[T]=g):m.push(g),localStorage.setItem("notes",JSON.stringify(m)),a.classList.toggle("show"),d.classList.toggle("hide"),d.classList.add("pointer-events-none"),a.addEventListener("transitionend",()=>{d.classList.remove("pointer-events-none")}),setTimeout(()=>{o.className="w-full h-24 text-4xl font-medium pt-6 bg-[#292929] resize-none outline-none"},450),setTimeout(()=>{l.className="w-full h-[60%] text-lg pt-3 bg-[#292929] resize-none outline-none overflow-hidden"},450),A()}});let $;const h=document.querySelector(".grid");function A(){document.querySelectorAll(".grid-item").forEach(e=>e.remove()),m.forEach((e,r)=>{let n=e.desc.replaceAll(`
`,"<br/>").replaceAll("'","&apos").replaceAll('"',"&quot"),s=e.title.replaceAll(`
`,"<br/>").replaceAll("'","&apos").replaceAll('"',"&quot"),i=`<div class="grid-item width ${e.color} rounded-xl p-5 mb-[10px]" onclick="updatenote(${r},'${s}','${n}','${e.color}','${e.txtcolor}','${e.date}')">
                            <div class="title">
                                ${e.title}
                            </div>
                        <div class="date text-neutral-500 text-sm pt-5">${e.date}</div>
                    </div>`;h.insertAdjacentHTML("afterbegin",i)});var t=document.querySelector(".grid");new Masonry(t,{itemSelector:".grid-item",gutter:10}),h.childElementCount!==0&&q.classList.add("hidden"),h.childElementCount===0&&q.classList.remove("hidden"),$=h.clientHeight}A();const N=document.querySelector(".searchbox"),H=document.querySelector(".searchbtn"),y=document.querySelector(".searchinput"),J=h.getElementsByClassName("grid-item");H.addEventListener("click",()=>{N.classList.add("flex-grow-[0.8]"),y.focus()});document.addEventListener("click",t=>{t.target!==H&&t.target!==y&&N.classList.remove("flex-grow-[0.8]")});y.addEventListener("keyup",M);function M(){const t=y.value.toLowerCase();Array.from(J).forEach(e=>{const r=e.querySelector(".title"),n=e.querySelector(".date");r.innerHTML.toLowerCase().indexOf(t)>-1?(e.style.display="",e.style.position="",e.style.width="100%",h.style.height="",n.style.textAlign="right",e.style.height="fit-content"):(e.style.display="none",e.style.height="",e.style.position="",h.style.height="",n.style.textAlign="right"),t==""&&(e.style.position="absolute",e.style.width="",h.style.height=`${$}px`,n.style.textAlign="")})}
