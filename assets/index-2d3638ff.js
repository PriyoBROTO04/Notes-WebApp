(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();const m=JSON.parse(localStorage.getItem("notes")||"[]"),T=document.querySelector(".editordate");document.querySelector(".delete");console.log(T);const o=document.getElementById("title"),l=document.getElementById("desc");o.addEventListener("input",t=>{o.style.height="6rem";let e=o.scrollHeight;o.style.height=`${e}px`});l.addEventListener("input",t=>{l.style.height="60%";let e=l.scrollHeight;l.style.height=`${e}px`});const M=document.querySelector(".addbtn"),E=document.querySelector(".back"),n=document.querySelector(".editor"),d=document.querySelector(".home");document.querySelectorAll(".grid-item");const w=document.querySelector(".helper");let A="bg-red-300",c="text-red-300";M.addEventListener("click",()=>{o.style.height="6rem",l.style.height="60%",o.value="",l.value="",A="bg-red-300",c="text-red-300",o.classList.add(c),l.classList.add(c),g.forEach(t=>{t.classList.remove("active")}),g[0].classList.add("active"),x.innerHTML="save",n.classList.toggle("show"),n.setAttribute("style","height: auto; overflow: auto;"),d.classList.toggle("hide")});E.addEventListener("click",()=>{v=!1;const t=document.querySelector(".editordate"),e=document.querySelector(".delete");setTimeout(()=>{o.className="w-full h-24 text-4xl font-medium pt-6 bg-[#292929] resize-none outline-none"},450),setTimeout(()=>{l.className="w-full h-[60%] text-lg pt-3 bg-[#292929] resize-none outline-none overflow-hidden"},450),setTimeout(()=>{o.classList.remove(m[f].txtcolor)},500),setTimeout(()=>{l.classList.remove(m[f].txtcolor)},500),t&&setTimeout(()=>{t.remove()},500),e&&setTimeout(()=>{e.remove()},500),n.classList.toggle("show"),n.setAttribute("style","height: 100vh; overflow: hidden;"),d.classList.add("pointer-events-none"),n.addEventListener("transitionend",()=>{d.classList.remove("pointer-events-none")}),d.classList.toggle("hide")});let v=!1,f;window.updatenote=function(t,e,i,a,s,r){let u=i.replaceAll("<br/>",`\r
`).replaceAll("&apos","'").replaceAll("&quot",'"'),p=e.replaceAll("<br/>",`\r
`).replaceAll("&apos","'").replaceAll("&quot",'"');v=!0,f=t,o.value=p,l.value=u,x.innerHTML="edit",o.style.height="6rem",l.style.height="60%",o.classList.remove(c),l.classList.remove(c),o.classList.add(s),l.classList.add(s);let L=o.scrollHeight;o.style.height=`${L}px`;let y=l.scrollHeight;l.style.height=`${y}px`;let h=`<button class="delete bg-[#3d3d3d] px-4 py-[11.5px] rounded-xl " onclick="deletenote(${t})"><i class="fa-solid fa-trash text-red-500"></i></button>`;E.insertAdjacentHTML("afterend",h);let $=`<div class="editordate text-neutral-500 text-sm ">${r}</div>`;o.insertAdjacentHTML("afterend",$),n.classList.toggle("show"),n.setAttribute("style","height: auto; overflow: auto;"),d.classList.toggle("hide"),g.forEach(b=>{b.classList.remove("active"),b.getAttribute("data-color")===a&&b.classList.add("active")})};window.deletenote=function(t){m.splice(t,1),localStorage.setItem("notes",JSON.stringify(m));const e=document.querySelector(".editordate"),i=document.querySelector(".delete");e&&setTimeout(()=>{e.remove()},500),i&&setTimeout(()=>{i.remove()},500),n.classList.toggle("show"),d.classList.toggle("hide"),d.classList.add("pointer-events-none"),n.addEventListener("transitionend",()=>{d.classList.remove("pointer-events-none")}),q()};const x=document.querySelector(".save"),g=document.querySelectorAll(".color"),O=["January","February","March","April","May","June","July","August","September","October","November","December"];g.forEach(t=>{t.addEventListener("click",()=>{A=t.getAttribute("data-color"),o.classList.remove(c),l.classList.remove(c),c=t.getAttribute("data-text"),o.classList.add(c),l.classList.add(c),g.forEach(e=>{e.classList.remove("active")}),t.classList.add("active")})});x.addEventListener("click",()=>{const t=document.querySelector(".editordate"),e=document.querySelector(".delete");t&&setTimeout(()=>{t.remove()},500),e&&setTimeout(()=>{e.remove()},500);let i=o.value,a=l.value,s=A,r=c;if(i||a){const u=new Date,p=O[u.getMonth()],L=u.getDate(),y=u.getFullYear(),h={title:i,desc:a,color:s,txtcolor:r,date:`${p} ${L}, ${y}`};console.log(h),v?(v=!1,m[f]=h):m.push(h),localStorage.setItem("notes",JSON.stringify(m)),n.classList.toggle("show"),d.classList.toggle("hide"),d.classList.add("pointer-events-none"),n.addEventListener("transitionend",()=>{d.classList.remove("pointer-events-none")}),q()}});const S=document.querySelector(".grid");function q(){document.querySelectorAll(".grid-item").forEach(e=>e.remove()),m.forEach((e,i)=>{let a=e.desc.replaceAll(`
`,"<br/>").replaceAll("'","&apos").replaceAll('"',"&quot"),s=e.title.replaceAll(`
`,"<br/>").replaceAll("'","&apos").replaceAll('"',"&quot"),r=`<div class="grid-item width ${e.color} rounded-xl p-5 mb-[10px]" onclick="updatenote(${i},'${s}','${a}','${e.color}','${e.txtcolor}','${e.date}')">
                            <div class="title">
                                ${e.title}
                            </div>
                        <div class="date text-neutral-500 text-sm pt-5">${e.date}</div>
                    </div>`;S.insertAdjacentHTML("afterbegin",r)});var t=document.querySelector(".grid");new Masonry(t,{itemSelector:".grid-item",gutter:10}),S.childElementCount!==0&&w.classList.add("hidden"),S.childElementCount===0&&w.classList.remove("hidden")}q();
